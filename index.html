<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <meta content="" name="description">
    <meta content="" name="author">
    <title>Translation Tool</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap3-wysihtml5.min.css">
    <script src="js/jquery-1.12.0.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/bootstrap-maxlength.js"></script>
    <script src="js/bootstrap3-wysihtml5.all.min.js"></script>
    <script src="js/jquery.selection.js"></script>
    <style>
        textarea{
            height: 100%;
            width: 100%;
            -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */
            -moz-box-sizing: border-box;    /* Firefox, other Gecko */
            box-sizing: border-box;         /* Opera/IE 8+ */
        }
        .tr-text{
            border-style: solid;
            border-radius: 5px;
            border-width: 1px;
            padding: 5px;
        }
        .dictionary {
            padding-top: 10px;
        }
        #contextMenu {
            /*position: fixed;*/
            /*display:none;*/
        }
        ul.dropdown-cart{
            min-width:250px;
        }
        ul.dropdown-cart li .item{
            display:block;
            padding:3px 10px;
            margin: 3px 0;
            border-bottom: solid;
            border-bottom-width: 1px;
        }
        ul.dropdown-cart li .active{
            background-color: #f9f9f9;
        }
        ul.dropdown-cart li .item:hover{
            background-color:#f3f3f3;
        }
        ul.dropdown-cart li .item:after{
            visibility: hidden;
            display: block;
            font-size: 0;
            content: " ";
            clear: both;
            height: 0;
        }

        ul.dropdown-cart li .item-left{
            float:left;
        }
        ul.dropdown-cart li .item-left img,
        ul.dropdown-cart li .item-left span.item-info{
            float:left;
        }
        ul.dropdown-cart li .item-left span.item-info{
            margin-left:10px;
        }
        ul.dropdown-cart li .item-left span.item-info .block{
            display:block;
        }
        ul.dropdown-cart li .item-right{
            float:right;
        }
        ul.dropdown-cart li .item-right button{
            margin-top:14px;
        }

        .span3 {
            background:white;
            border-style: solid;
            -webkit-border-radius: 10px;
            -moz-border-radius: 10px;
            border-radius: 10px;
            /*width:250px;*/
            /*height:100px;*/
            display: block;
            position: relative;
        }

        #pointer{
            border-right:solid 20px black;
            /*  border-left: solid 5px transparent;   */
            border-top: solid 10px transparent;
            border-bottom: solid 10px transparent;
            position:absolute;
            width: 0;
            height: 0;
            top: 10px;
            left:-20px
        }

        .btn-group-right{
            float: right;
        }
        .comment-span{
            background-color: yellow;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-default navbar-fixed-top" style="z-index: 10000">
        <div class="container">
            <div class="navbar-header">
                <button aria-controls="navbar" aria-expanded="false" data-target="#navbar" data-toggle="collapse" class="navbar-toggle collapsed" type="button">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <!--<a href="#" class="navbar-brand">Translation tool</a>-->
            </div>
            <div class="collapse navbar-collapse" id="navbar">
                <ul class="nav navbar-nav">
                    <li class="dropdown">
                        <div class="btn-group" style="padding-top: 10px">
                            <button class="btn btn-default" onclick="select_page('translation')">Translation</button>
                            <button class="btn btn-default dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><span class="caret"></span></button>
                            <ul class="dropdown-menu dropdown-cart" role="menu">
                                <li>
                                    <span class="item active">
                                        <span class="item-left">
                                            <span class="item-info" onclick="select_page('translation')">
                                                <span class="block">Gatwick Express</span>
                                                <span class="block">
                                                    <span class="glyphicon glyphicon-ok"></span> 0&#47;5
                                                    <span class="glyphicon glyphicon-flag"></span> <span class="page1_flags">0</span>
                                                    <span class="glyphicon glyphicon-comment"></span> 1
                                                </span>
                                            </span>
                                        </span>
                                    </span>
                                </li>
                                <li>
                                    <span class="item">
                                        <span class="item-left">
                                            <span class="item-info" onclick="select_page('translation')">
                                                <span class="block">Victoria Express</span>
                                                <span class="block">
                                                    <span class="glyphicon glyphicon-ok"></span> 1&#47;15
                                                    <span class="glyphicon glyphicon-flag"></span> 4
                                                    <span class="glyphicon glyphicon-comment"></span> 0
                                                </span>
                                            </span>
                                        </span>
                                    </span>
                                </li>
                                <li>
                                    <span class="item">
                                        <span class="item-left">
                                            <span class="item-info" onclick="select_page('translation')">
                                                <span class="block">London Eye</span>
                                                <span class="block">
                                                    <span class="glyphicon glyphicon-ok"></span> 8&#47;10
                                                    <span class="glyphicon glyphicon-flag"></span> 2
                                                    <span class="glyphicon glyphicon-comment"></span> 1
                                                </span>
                                            </span>
                                        </span>
                                    </span>
                                </li>
                                <li>
                                    <span class="item">
                                        <span class="item-left">
                                            <span class="item-info" onclick="select_page('translation')">
                                                <span class="block">Harry Potter tour</span>
                                                <span class="block">
                                                    <span class="glyphicon glyphicon-ok"></span> 0&#47;13
                                                    <span class="glyphicon glyphicon-flag"></span> 0
                                                    <span class="glyphicon glyphicon-comment"></span> 0
                                                </span>
                                            </span>
                                        </span>
                                    </span>
                                </li>
                                <li>
                                    <span class="item">
                                        <span class="item-left">
                                            <span class="item-info" onclick="select_page('translation')">
                                                <span class="block">28 Days After tour</span>
                                                <span class="block">
                                                    <span class="glyphicon glyphicon-ok"></span> 0&#47;12
                                                    <span class="glyphicon glyphicon-flag"></span> 0
                                                    <span class="glyphicon glyphicon-comment"></span> 0
                                                </span>
                                            </span>
                                        </span>
                                    </span>
                                </li>
                                <li>
                                    <span class="item">
                                        <span class="item-left">
                                            <span class="item-info" onclick="select_page('translation')">
                                                <span class="block">Sherlock pubs tour</span>
                                                <span class="block">
                                                    <span class="glyphicon glyphicon-ok"></span> 0&#47;11
                                                    <span class="glyphicon glyphicon-flag"></span> 0
                                                    <span class="glyphicon glyphicon-comment"></span> 3
                                                </span>
                                            </span>
                                        </span>
                                    </span>
                                </li>
                            </ul>
                        </div>
                    </li>
                </ul>


                <ul class="nav navbar-nav">
                    <!--<li class="uinav" id="li_jobs"><a href="#jobs" onclick="select_page('jobs')">Jobs</a></li>-->
                    <!--<li class="uinav active" id="li_translation"><a href="#translation" onclick="select_page('translation')">Translation</a></li>-->
                    <li class="uinav" id="li_dictionary" style="padding-top: 10px">
                        <button class="btn btn-default" href="#dictionary" onclick="select_page('dictionary')">Common Phrases</button>
                    </li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"> <span class="glyphicon glyphicon-bell"></span>Notifications<span class="caret"></span></a>
                        <ul class="dropdown-menu dropdown-cart" role="menu">
                            <li>
                                <span class="item">
                                    <span class="item-left">
                                        <span class="item-info">
                                            <span class="block"><b>Pavel</b></span>
                                            <span class="block">This sentence is too complex, I will break it down to several simble sentences in translation.</span>
                                        </span>
                                    </span>
                                </span>
                            </li>
                            <li>
                                <span class="item">
                                    <span class="item-left">
                                        <span class="item-info">
                                            <span class="block"><b>Project Manager</b></span>
                                            <span class="block">Please use simple language</span>
                                        </span>
                                    </span>
                                </span>
                            </li>
                            <li>
                                <span class="item">
                                    <span class="item-left">
                                        <span class="item-info">
                                            <span class="block"><b>Julia</b></span>
                                            <span class="block">Yes, this is an error. We will fix it ASAP, please ignore in your translation.</span>
                                        </span>
                                    </span>
                                </span>
                            </li>
                            <li>
                                <span class="item">
                                    <span class="item-left">
                                        <span class="item-info">
                                            <span class="block"><b>Pavel</b></span>
                                            <span class="block">I guess, it is an error. Should I ignore it or translate it as is?</span>
                                        </span>
                                    </span>
                                </span>
                            </li>
                            <li class="divider"></li>
                            <li><a class="text-center" href="">View all notifications</a></li>
                        </ul>
                    </li>
                </ul>
            </div><!--/.nav-collapse -->
        </div>
    </nav>
    <div style="padding-top: 60px;">

    <!--<div class="container uipage hidden" id="jobs">-->
        <!--<h3>Jobs list</h3>-->
    <!--</div>-->

    <div class="uipage hidden" id="dictionary" style="z-index: 10000; background-color: white;"><div class="container">
        <h3>Dictionary</h3>
        <div class="input-group">
            <input type="text" class="form-control" placeholder="Search for...">
              <span class="input-group-btn">
                <button class="btn btn-default" type="button">Search</button>
              </span>
        </div><!-- /input-group -->
        <hr />
        <div class="container">
            <div class="row dictionary">
                <div class="col-md-5">Highlights</div>
                <div class="col-md-6">Highlights</div>
                <div class="col-md-1"><button class="btn btn-success btn-sm">Copy</button></div>
            </div>
            <div class="row dictionary">
                <div class="col-md-5">How do I get my tickets?</div>
                <div class="col-md-6">Come uso i miei biglietti?</div>
                <div class="col-md-1"><button class="btn btn-success btn-sm">Copy</button></div>
            </div>
            <div class="row dictionary">
                <div class="col-md-5">Are there children's tickets for the Gatwick Express?</div>
                <div class="col-md-6">Sono disponibili biglietti per bambini? </div>
                <div class="col-md-1"><button class="btn btn-success btn-sm">Copy</button></div>
            </div>
            <div class="row dictionary">
                <div class="col-md-5">Are there children's tickets for the Gatwick Express?</div>
                <div class="col-md-6">Ci sono biglietti per bambini per il Gatwick Express?</div>
                <div class="col-md-1"><button class="btn btn-success btn-sm">Copy</button></div>
            </div>
            <div class="row dictionary">
                <div class="col-md-5">Important information</div>
                <div class="col-md-6">Informazioni importanti</div>
                <div class="col-md-1"><button class="btn btn-success btn-sm">Copy</button></div>
            </div>
            <div class="row dictionary">
                <div class="col-md-5">We are not able to refund (either partly or in full) for tickets that cannot be used if the train timetable does not fit in with your scheduled flight arrival or departure time. If trains are cancelled due to maintenance work etc. then there will always be a replacement bus service offered.</div>
                <div class="col-md-6">Noi di Ticmate non rimborsiamo (nè parzialmente nè in toto) biglietti che non siano stati utilizzati a causa di orari personali non coincidenti con quelli delle corse. Qualora le corse siano cancellate per lavori di manutenzione, dei bus saranno predisposti per ovviare all'inconveniente. </div>
                <div class="col-md-1"><button class="btn btn-success btn-sm">Copy</button></div>
            </div>
            <div class="row dictionary">
                <div class="col-md-5">Children's tickets are available for children between age 5-15.</div>
                <div class="col-md-6">Sì, i bambini con un'età compresa fra i 5 e i 15 anni hanno diritto ad un biglietto per bambini.</div>
                <div class="col-md-1"><button class="btn btn-success btn-sm">Copy</button></div>
            </div>
            <div class="row dictionary">
                <div class="col-md-5">Shortly after your booking is complete, you will receive a confirmation by email.</div>
                <div class="col-md-6">Non appena la tua prenotazione sarà terminata ti sarà inviata una mail di conferma.</div>
                <div class="col-md-1"><button class="btn btn-success btn-sm">Copy</button></div>
            </div>
            <div class="row dictionary">
                <div class="col-md-5">Skip the line by the ticket machine at the station </div>
                <div class="col-md-6">Evita la coda alla macchinetta della stazione</div>
                <div class="col-md-1"><button class="btn btn-success btn-sm">Copy</button></div>
            </div>
        </div>

    </div></div>

    <div class="container uipage" id="translation">

        <div class="row">
            <div class="col-md-2">
                <button class="btn btn-default pull-left" disabled="disabled"><span class="glyphicon glyphicon-chevron-left"></span> PREVIOUS</button>
            </div>
            <div class="col-md-6">
                <h3>Gatwick Express</h3>
                <div class="container">
                    <span class="glyphicon glyphicon-ok"></span> 0&#47;5
                    <span class="glyphicon glyphicon-flag"></span> <span class="page1_flags">0</span>
                    <span class="glyphicon glyphicon-comment"></span> 1
                </div>
            </div>
            <div class="col-md-2">
                <a href="#" class="btn btn-default pull-right">View Original</a>
            </div>
            <div class="col-md-2">
                <button class="btn btn-default pull-right">NEXT <span class="glyphicon glyphicon-chevron-right"></span></button>
            </div>
        </div>
        <hr />

        <div class="row">
            <div class="col-md-6">
                <div class="row">
                    <div class="col-md-6">
                        <h4>
                            <a href="http://www.londonticketsinternational.com/transportation/gatwick-express/"
                               title="Open original page in new window"
                               onclick="window.open(this.href, 'mywin', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"
                               target="_blank">Name</a>
                        </h4>
                    </div>
                    <div class="col-md-6 pull-right">
                        <div class="btn-group btn-group-right">
                            <button class="btn btn-default btn-cp"><span class="glyphicon glyphicon-book"></span> Add to CP</button>
                            <button class="btn btn-default btn-comment"><span class="glyphicon glyphicon-comment"></span> Add comment</button>
                        </div>
                    </div>
                </div>
                <div class="tr-text">Gatwick Express</div>
                <div class="pull-right"><span id="left_anchor"></span></div>
            </div>
            <div class="col-md-6">
                <div class="btn-toolbar" role="toolbar" aria-label="...">
                    <div class="btn-group" role="group">
                        <button class="btn btn-default" data-toggle="tooltip" data-placement="top" title="Bold">B</button>
                        <button class="btn btn-default" data-toggle="tooltip" data-placement="top" title="Italic">I</button>
                    </div>
                    <div class="pull-right">
                        <div class="btn-group" role="group">
                            <button type="button" class="btn btn-default" data-toggle="modal" data-ta-id="ta1" data-target="#preview_modal">Preview</button>
                        </div>
                        <div class="btn-group" role="group">
                            <button class="btn btn-default" data-toggle="tooltip" data-placement="top" title="Mark as not finished" onclick="toggle_red_flag(this);"><span class="glyphicon glyphicon-flag"></span></button>
                        </div>
                    </div>
                </div>
                <textarea id="ta1" class="form-control translate" maxlength="60"></textarea>
            </div>
        </div>
        <hr />
        <div class="row">
            <div class="col-md-6">
                <div class="row">
                    <div class="col-md-6"><h4>
                        <a href="http://www.londonticketsinternational.com/transportation/gatwick-express/"
                           title="Open original page in new window"
                           onclick="window.open(this.href, 'mywin', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"
                           target="_blank">URL
                        </a>
                    </h4>
                    </div>
                    <div class="col-md-6 pull-right">
                        <div class="btn-group btn-group-right">
                            <button class="btn btn-default btn-cp"><span class="glyphicon glyphicon-book"></span> Add to CP</button>
                            <button class="btn btn-default btn-comment"><span class="glyphicon glyphicon-comment"></span> Add comment</button>
                        </div>
                    </div>
                </div>
                <div class="tr-text">gatwick-express</div>
            </div>
            <div class="col-md-6">
                <div class="btn-toolbar" role="toolbar" aria-label="...">
                    <div class="btn-group" role="group">
                        <button class="btn btn-default" data-toggle="tooltip" data-placement="top" title="Bold">B</button>
                        <button class="btn btn-default" data-toggle="tooltip" data-placement="top" title="Italic">I</button>
                    </div>
                    <div class="pull-right">
                        <div class="btn-group" role="group">
                            <button type="button" class="btn btn-default" data-toggle="modal" data-ta-id="ta2" data-target="#preview_modal">Preview</button>
                        </div>
                        <div class="btn-group" role="group">
                            <button class="btn btn-default" data-toggle="tooltip" data-placement="top" title="Mark as not finished" onclick="toggle_red_flag(this);"><span class="glyphicon glyphicon-flag"></span></button>
                        </div>
                    </div>
                </div>
                <textarea id="ta2" class="form-control translate" maxlength="60"></textarea>
            </div>
        </div>
        <hr />
        <div class="row">
            <div class="col-md-6">
                <div class="row">
                    <div class="col-md-6"><h4>
                        <a href="http://www.londonticketsinternational.com/transportation/gatwick-express/"
                           title="Open original page in new window"
                           onclick="window.open(this.href, 'mywin', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"
                           target="_blank">Short Text
                        </a>
                    </h4>
                    </div>
                    <div class="col-md-6 pull-right">
                        <div class="btn-group btn-group-right">
                            <button class="btn btn-default btn-cp"><span class="glyphicon glyphicon-book"></span> Add to CP</button>
                            <button class="btn btn-default btn-comment"><span class="glyphicon glyphicon-comment"></span> Add comment</button>
                        </div>
                    </div>
                </div>
                <div class="tr-text">Travel to London City from Gatwick Airport with the Gatwick Espresso! Save time with prebooked tickets and jump directly on the train. The journey is only approx. 35 minutes.</div>
            </div>
            <div class="col-md-6">
                <div class="btn-toolbar" role="toolbar" aria-label="...">
                    <div class="btn-group" role="group">
                        <button class="btn btn-default" data-toggle="tooltip" data-placement="top" title="Bold">B</button>
                        <button class="btn btn-default" data-toggle="tooltip" data-placement="top" title="Italic">I</button>
                    </div>
                    <div class="pull-right">
                        <div class="btn-group" role="group">
                            <button type="button" class="btn btn-default" data-toggle="modal" data-ta-id="ta3" data-target="#preview_modal">Preview</button>
                        </div>
                        <div class="btn-group" role="group">
                            <button class="btn btn-default" data-toggle="tooltip" data-placement="top" title="Mark as not finished" onclick="toggle_red_flag(this);"><span class="glyphicon glyphicon-flag"></span></button>
                        </div>
                    </div>
                </div>
                <textarea id="ta3" class="form-control translate" maxlength="250"></textarea>
            </div>
        </div>
        <hr />
        <div class="row">
            <div class="col-md-6">
                <div class="row">
                    <div class="col-md-6"><h4>
                        <a href="http://www.londonticketsinternational.com/transportation/gatwick-express/"
                           title="Open original page in new window"
                           onclick="window.open(this.href, 'mywin', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"
                           target="_blank">Long Text
                        </a>
                    </h4>
                    </div>
                    <div class="col-md-6 pull-right">
                        <div class="btn-group btn-group-right">
                            <button class="btn btn-default btn-cp"><span class="glyphicon glyphicon-book"></span> Add to CP</button>
                            <button class="btn btn-default btn-comment"><span class="glyphicon glyphicon-comment"></span> Add comment</button>
                        </div>
                    </div>
                </div>
                <div class="tr-text">
                <span class="comment-span" data-commentid="1">Jump on the Gatwick Express and get into London fast and easy.</span> You can choose to get a return or one-way ticket between Gatwick Airport and Victoria Station in London with the Gatwick Express. The journey takes approx. 35 min. It's easy and comfortable!
                <br />
                From Victoria Station in London you can easily take the tube, a bus or grab a cab to your end-destination, such as Piccadilly Circus, Trafalgar Square, Oxford Circus, Covent Garden, Russel Square or Paddington.
                <br />
                <mark><a rel="popover" data-toggle="popover" data-tr-id="1" style="text-decorations:none; color:inherit;" class="tr-popover">Highlights</a></mark>:<br />
                - Get your e-tickets directly into your mailbox within 2-3 days<br />
                - Skip the line by the ticket machine at the station<br />
                - The tickets can be used on any given day within a month<br />
                - Children under 5 years old travel for free<br />
                <br />
                How do I book my tickets for the Gatwick Express?<br />
                When you book your tickets pick the 'valid from' date as the date you will use the train tickets. If you book return tickets, the return journey back to Gatwick Airport has to be used within 28 days from the date you have chosen.<br />
                <br />
                You cannot book for today, as all tickets are issued manually, so please allow 2-3 days for your tickets to arrive via email.
                <br />
                How do I get my tickets?<br />
                Shortly after your booking is complete, you will receive a confirmation by email. Your train tickets will be sent to you afterwards.
                <br />
                All train tickets are issued manually, therefor we cannot promise you will receive the tickets the same day as you order, it might take a few days. However, we promise you will receive your tickets well before you leave, and if you book close to the departure date, you will receive your tickets as soon as possible.
                <br />
                <mark><a rel="popover" data-toggle="popover" data-tr-id="2" style="text-decorations:none; color:inherit;" class="tr-popover">Are there children's tickets for the Gatwick Express?</a></mark><br />
                Yes, you can purchase children's tickets for the Gatwick Express. Children's tickets are available for children between age 5-15. Children under age 5 travel for free, when accompanied by a paying adult. (Max. 4 children can travel free each adult).<br />
                <br />
                Important information:<br />
                - Please note: It is your responsibility to check the train timetable before your journey, especially the train times to and from the airport for flights that arrive or depart very early in the morning or late at night, or in case there is a limited service due to maintenance work, etc.<br />
                - We are not able to refund (either partly or in full) for tickets that cannot be used if the train timetable does not fit in with your scheduled flight arrival or departure time. If trains are cancelled due to maintenance work etc. then there will always be a replacement bus service offered.<br />
                - <span class="comment-span" data-commentid="2">On bank holidays the Gatwick Express will not run as frequently as normal</span>, and on December 25 the Gatwick Express doesn't run.<br />
                - If you like you can book tickets for an alternative Gatwick Airport Train HERE!<br />
                <br />
                Maintenance work until January 2016:<br />
                Extensive maintenance and line update works are scheduled from now until at least January 2016. Departure suspensions and reduction of services per hour might occure, mostly during nights and sometime weekends. If a service is not operating for longer periods, a replacement bus service will be in place. Please account for extra time mostly on your way to the airport.<br />
                <br />
                Staff are available at the stations to help you, so please ask them if you have any questions.<br />
                <br />
                </div>
            </div>
            <div class="col-md-6">
                <div class="btn-toolbar" role="toolbar" aria-label="...">
                    <div class="btn-group" role="group">
                        <button class="btn btn-default" data-toggle="tooltip" data-placement="top" title="Bold">B</button>
                        <button class="btn btn-default" data-toggle="tooltip" data-placement="top" title="Italic">I</button>
                    </div>
                    <div class="pull-right">
                        <div class="btn-group" role="group">
                            <button type="button" class="btn btn-default" data-toggle="modal" data-ta-id="ta4" data-target="#preview_modal">Preview</button>
                        </div>
                        <div class="btn-group" role="group">
                            <button class="btn btn-default" data-toggle="tooltip" data-placement="top" title="Mark as not finished" onclick="toggle_red_flag(this);"><span class="glyphicon glyphicon-flag"></span></button>
                        </div>
                    </div>
                </div>
                <textarea id="ta4" class="form-control translate" maxlength="5000" rows="50"></textarea>
            </div>
        </div>
        <hr />
        <div class="row">
            <div class="col-md-6">
                <div class="row">
                    <div class="col-md-6"><h4>
                        <a href="http://www.londonticketsinternational.com/transportation/gatwick-express/"
                           title="Open original page in new window"
                           onclick="window.open(this.href, 'mywin', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"
                           target="_blank">Meta Description
                        </a>
                    </h4>
                    </div>
                    <div class="col-md-6 pull-right">
                        <div class="btn-group btn-group-right">
                            <button class="btn btn-default btn-cp"><span class="glyphicon glyphicon-book"></span> Add to CP</button>
                            <button class="btn btn-default btn-comment"><span class="glyphicon glyphicon-comment"></span> Add comment</button>
                        </div>
                    </div>
                </div>
                <div class="tr-text">
                    Travel from Gatwick Airport to London City with the Gatwick Express. Children under 5 travel for free. The journey only takes approx. 35 minutes!
                </div>
            </div>
            <div class="col-md-6">
                <div class="btn-toolbar" role="toolbar" aria-label="...">
                    <div class="btn-group" role="group">
                        <button class="btn btn-default" data-toggle="tooltip" data-placement="top" title="Bold">B</button>
                        <button class="btn btn-default" data-toggle="tooltip" data-placement="top" title="Italic">I</button>
                    </div>

                    <div class="pull-right">
                        <div class="btn-group" role="group">
                            <button type="button" class="btn btn-default" data-toggle="modal" data-ta-id="ta5" data-target="#preview_modal">Preview</button>
                        </div>
                        <div class="btn-group" role="group">
                            <button class="btn btn-default" data-toggle="tooltip" data-placement="top" title="Mark as not finished" onclick="toggle_red_flag(this);"><span class="glyphicon glyphicon-flag"></span></button>
                        </div>
                    </div>
                </div>
                <textarea id="ta5" class="form-control translate" maxlength="300" rows="3"></textarea>
            </div>
        </div>
        <hr />

        <div class="row">
            <div class="col-md-2">
                <button class="btn btn-default pull-left" disabled="disabled"><span class="glyphicon glyphicon-chevron-left"></span> PREVIOUS</button>
            </div>
            <div class="col-md-6">
                <h3>Gatwick Express</h3>
                <div class="container">
                    <span class="glyphicon glyphicon-ok"></span> 0&#47;5
                    <span class="glyphicon glyphicon-flag"></span> <span class="page1_flags">0</span>
                    <span class="glyphicon glyphicon-comment"></span> 1
                </div>
            </div>
            <div class="col-md-2">
                <a href="#" class="btn btn-default pull-right">View Original</a>
            </div>
            <div class="col-md-2">
                <button class="btn btn-default pull-right">NEXT <span class="glyphicon glyphicon-chevron-right"></span></button>
            </div>
        </div>
        <hr />



        <!--Dictionary-->
        <div id="myPopover" class="hide">
            Choose a translation:
            <ul id="tr_list" class="list-group">
                <li class="list-group-item tr-list-item">Highlights</li>
            </ul>
        </div>

        <!--Comment bubble-->
        <div id="comment-bubble" class="hidden">
            <button class="btn btn-info btn-sm comment">
                <span class="glyphicon glyphicon-comment"></span>
            </button>
        </div>

        <!--Comments-->
        <div id="commentsPopover" class="hide">
            <div id="comments_div">

            </div>
            <div>
                <textarea class="form-control"></textarea>
                <div class="btn-group">
                    <button id="comment_button" class="btn btn-sm btn-primary" onclick="send_comment(this);">Send</button>
                    <button type="button" class="btn btn-default btn-sm cancel" onclick="dismiss(this);">Close</button>
                </div>
            </div>
        </div>
    </div>
    </div>
    <!--Preview Translation-->
    <div id="preview_modal" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">Preview translation</h4>
                </div>
                <div class="modal-body">
                    <div id="preview_text" class="well well-lg" style="word-wrap: break-word;"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="contextMenu" class="clearfix hidden">
        <div class="span3">
            <div id="pointer"></div>
            <div class="btn-group-vertical sidemenu" id="sidemenu-buttons">
                <button class="btn btn-sm btn-default" onclick="show_sidemenu('sidemenu-comment')">Comment</button>
                <button class="btn btn-sm btn-default" onclick="show_footer();">Add to CP</button>
            </div>
            <div class="sidemenu hidden" id="sidemenu-comment">
                <form role="form" style="width: 400px;">
                    <textarea class="form-control"></textarea>
                    <div class="btn-group">
                        <button id="comment_button_2" class="btn btn-sm btn-primary" onclick="close_sidemenu();">Send</button>
                        <button type="button" class="btn btn-default btn-sm cancel" onclick="close_sidemenu()">Close</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <nav id="footer" class="navbar navbar-default navbar-fixed-bottom hidden">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <label>Original text</label>
                    <div class="btn-group pull-right" role="group">
                        <button class="btn btn-default" data-toggle="tooltip" data-placement="top" title="Bold">B</button>
                        <button class="btn btn-default" data-toggle="tooltip" data-placement="top" title="Italic">I</button>
                    </div>
                </div>
                <div class="col-md-6">
                    <label>Translation</label>
                    <div class="btn-group pull-right" role="group">
                        <button class="btn btn-default" data-toggle="tooltip" data-placement="top" title="Bold">B</button>
                        <button class="btn btn-default" data-toggle="tooltip" data-placement="top" title="Italic">I</button>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6"><textarea rows="10" id="cp_orig_text"></textarea></div>
                <div class="col-md-6"><textarea rows="10" id="cp_tran_text"></textarea></div>
            </div>
            <div class="row">
                <div class="btn-group pull-right">
                    <button class="btn btn-primary" onclick="$('#footer').addClass('hidden');">Save</button>
                    <button class="btn btn-default" onclick="$('#footer').addClass('hidden');">Close</button>
                </div>
            </div>
        </div>
    </nav>

    <script>

        function select_page(page) {
            $('.uinav').removeClass('active');
            $('#li_'+page).addClass('active');
            $('.uipage').addClass('hidden');
            $('#'+page).removeClass('hidden');
            if (page=='dictionary'){
                $(".bootstrap-maxlength").addClass('hidden');
            } else {
                $(".bootstrap-maxlength").removeClass('hidden');
            }
            return false;
        }

//        $('textarea').wysihtml5({
//            toolbar: {
//                "font-styles": false, //Font styling, e.g. h1, h2, etc. Default true
//                "emphasis": true, //Italics, bold, etc. Default true
//                "lists": false, //(Un)ordered lists, e.g. Bullets, Numbers. Default true
//                "html": false, //Button which allows you to edit the generated HTML. Default false
//                "link": false, //Button to insert a link. Default true
//                "image": false, //Button to insert an image. Default true,
//                "color": false, //Button to change color of font
//                "blockquote": false, //Blockquote
//                "size": "sm" //default: none, other options are xs, sm, lg
//        }});

        $('.translate').maxlength({
            alwaysShow: true,
            placement: 'top-right'
        });

        // TOOLTIPS
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        });
        // RED FLAGS
        var red_flags = 0;
        function toggle_red_flag(button) {
            if ($(button).hasClass('btn-danger')) {
                $(button).removeClass('btn-danger');
                red_flags = red_flags - 1;
            } else {
                $(button).addClass('btn-danger');
                red_flags = red_flags + 1;
            }
            if (red_flags>0) {
                // set the flags count
                $(".page1_flags").html(red_flags);
            } else {
                $(".page1_flags").html('0');
            }
        }
        var comments = {
            '1': ['this can not be translated 1:1', '<b>PM</b>: ok, please translate  more freely'],
            '2': ['<b>Martin</b>: I dont really understand what is this', '<b>PM</b>: Ok. Kira, can you explain this text?'],
            '3': [],
            '4': [],
            '5': []
        };
        // Comments
        $(function add_comment_bubbles(){
            $(".comment-span").each(function(i, el){
                // get coordinates of element
                var left_anchor = $('#left_anchor').offset().left;
                var bubble_top = $(el).offset().top;
                // place comment bubble
                var bubble = $('#comment-bubble').clone(true).appendTo('body');
                console.log('placing ' + bubble_top + ' ' + left_anchor);
                $(bubble).css('position', 'absolute');
                $(bubble).css('top', bubble_top);
                $(bubble).css('left', left_anchor);
                $(bubble).removeClass('hidden');
                // data
                var comment_id = $(el).data('commentid');
                console.log(comment_id);
                $(bubble).children('button').data('comment-id', comment_id);
            })
        })

        $(function () {
            $('.comment').popover({
                container: 'body',
                html: true,
                content: function () {
                    // make new content
                    var comment_id = $(this).data('comment-id');
                    comments_list = comments[comment_id];
                    $('#comments_div').html('');
                    for (comment in comments_list) {
                        $('#comments_div').append(comments_list[comment], '<hr />')
                    }
                    $('#comment_button').data('comment-id', comment_id);
                    var clone = $("#commentsPopover").clone(true).removeClass('hide');
                    return clone;
                }
            })
        });
        function send_comment(button) {
            var comment_id = $(button).data('comment-id');
            // find a sibling textarea
            var textarea = $(button).parent().prev();
            var comm_text = $(textarea).val();
            comments[comment_id].push(comm_text);
            $(textarea).val('');
            // add to div
            $(textarea).parent().prev().append(comm_text, '<hr />')
        }
        function dismiss(button) {
            $(button).parent().parent().parent().parent().parent().popover('hide');
        }
        // PREVIEW
        $('#preview_modal').on('show.bs.modal', function (event) {
            var button = $(event.relatedTarget);
            // get text and place it into the right spot
            $('#preview_text').html($('#'+button.data('ta-id')).val());
        });

        // Dictionary insert
        var dictionary_values = {
            '1': ['Highlights'],
            '2': ['Sono disponibili biglietti per bambini?','Ci sono biglietti per bambini per il Gatwick Express?'],
            '3': ['Informazioni importanti']
        };
        var tr_textareas = {
            '1': 'ta4',
            '2': 'ta4',
            '3': 'ta4'
        };
        $(function () {
            $('.tr-popover').popover({
                container: 'body',
                html: true,
                content: function () {
                    // make new content
                    var tr_id = $(this).data('tr-id');
                    tr_list = dictionary_values[tr_id];
                    $('#tr_list').html('');
                    for (translation_id in tr_list) {
                        $('#tr_list').append('<li class="list-group-item tr-list-item" onclick="insert_tr(this, \''+tr_id+'\');">'+tr_list[translation_id]+'</li>')
                    }
                    var clone = $("#myPopover").clone(true).removeClass('hide');
                    return clone;
                }
            })

        });
        function insert_tr(tr_list_item, tr_id){
            // get translation textarea id
            var ta_id = tr_textareas[tr_id];
            // append text
            var txt_to_append = $(tr_list_item).text();
            $('#'+ ta_id).val($('#'+ta_id).val()+ '\n' + txt_to_append);
            return true
        }
        // selecting
        $(".tr-text").on("mouseup", function(e) {
            // show modal with text
            var text_selected = window.getSelection().toString();
            var s = window.getSelection()
            var oRange = s.getRangeAt(0); //get the text range
            var oRect = oRange.getBoundingClientRect();
            var bodyRect = document.body.getBoundingClientRect();
//            console.log(oRect.left - bodyRect.left, oRect.top - bodyRect.top);
            var left_anchor = $('#left_anchor').offset().left;
            $('#contextMenu').css('left', left_anchor + 15);
            $('#contextMenu').css('top', oRect.top - bodyRect.top);
//            $("#cp_orig_text").val(text_selected);
            $('#cp_orig_text').val(text_selected);
            if (text_selected>'' && $('#footer').hasClass('hidden')) {
                $('#contextMenu').css('position', 'absolute');
                $('#contextMenu').removeClass('hidden');
//                $('#cp_orig_text').val(text_selected);
//                $("#footer").removeClass("hide")
            } else {
                close_sidemenu();
                $('#contextMenu').css('top', 0);
//                $('#contextMenu').addClass('hidden');
//                show_sidemenu('sidemenu-buttons');
//                $("#footer").addClass("hide")
            }
        });

        $(".translate").select(function(e) {
            // show modal with text
            var text_selected = $(this).selection();
//            var s = window.getSelection()
//            var oRange = s.getRangeAt(0); //get the text range
//            var bodyRect = document.body.getBoundingClientRect();
//            var oRect = oRange.getBoundingClientRect();
//            console.log(oRect.left - bodyRect.left, oRect.top - bodyRect.top);
            $("#cp_tran_text").val(text_selected);
//            if (text_selected>'') {
//                $("#footer").removeClass("hide")
//            } else {
//                $("#footer").addClass("hide")
//            }
        });
        function show_sidemenu(menu){
            $('.sidemenu').addClass('hidden');
            $('#' + menu).removeClass('hidden');
        };
        function close_sidemenu(){
            $('#contextMenu').addClass('hidden');
            show_sidemenu('sidemenu-buttons');
            $('.btn-comment').removeClass('active');
            $('#contextMenu').css('top', 0);
        };
        function show_footer(){
            $('#footer').removeClass('hidden');
            close_sidemenu();
            show_sidemenu('sidemenu-buttons');
        };
        $(".btn-comment").click(function(e){
            console.log($('#contextMenu').css('top'));
            if (!$(this).hasClass('active')){
                // trigger it
                show_sidemenu('sidemenu-comment');
                var left_anchor = $('#left_anchor').offset().left;
                $('#contextMenu').css('position', 'absolute');
                $('#contextMenu').css('left', left_anchor + 15);
                if ($('#contextMenu').css('top')=='0px'||$('#contextMenu').css('top')=='auto') {
                    $('#contextMenu').css('top', $(this).offset().top);
                }
                $('#contextMenu').removeClass('hidden');
                $(this).addClass('active');
            } else {
                // hide it
                close_sidemenu();
                show_sidemenu('sidemenu-buttons');
            }
        });
        $(".btn-cp").click(function(e){
            show_footer();
        })
    </script>

    <!--General layout: preview-->
    <!--View Context button-->
    <!--Context preview-->
    <!--Add button for select translation-->

</body>
</html>